<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../../assets/css/login/profile.css">
    <title>SpartansMT</title>
    <link rel="icon" type="image/png" sizes="32x32" href="../../assets/image/home/logo icon.png" alt="logo icon">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>


<body>


    <header id="profile_page">

        <div class="profile">

            <div>
                <img src="../../assets/image/services/buildings.jpg" alt="User Profile">
                <h3 id="user_nanm"></h3>
            
            </div>

            <br>

            <ul>
                <li id="btn_profile" class="active">Profile</li>
                <li id="btn_order">Orders</li>
                <li id="btn_wishlist">Wishlist</li>
                <li>Payment</li>
            </ul>

        </div>

        <div class="details profile_details">

            <div class="pages_align">
                <a href="../home/home.html">
                    <h4>Home</h4>
                </a>
                    <i class="fa-solid fa-chevron-right"></i>
                <h4>Profile</h4>
            </div>

            <form action="">

                <div class="name">
                    <div>
                        <label for="first_name">First name</label>
                        <br>
                        <input type="text" id="first_name" class="two_input" disabled>
                    </div>
                    <div>
                        <label for="last_name">Last name</label>
                        <br>
                        <input type="text" id="last_name" class="two_input" disabled>
                    </div>
                </div>
    
                <div>
                    <label for="email">Email</label>
                    <br>
                    <input type="email" id="email" class="one_input" disabled>
                </div>
    
                <div>
                    <label for="address">Address</label>
                    <br>
                    <input id="address" type="text" class="one_input" disabled>
                </div>
    
                <div>
                    <label for="address2">Address2</label>
                    <br>
                    <input id="address2" type="text" class="one_input" disabled>
                </div>
    
                <div class="name">
                    <div>
                        <label for="">Country</label>
                        <br>
                        <select name="" id="country" class="three_input" disabled>
                            <option value=""></option>
                            <option value="India">India</option>
                            <option value="USA">USA</option>
                            <option value="Canada">Canada</option>
                        </select>
                    </div>
    
                    <div>
                        <label for="">State</label>
                        <br>
                        <select name="" id="state" class="three_input" disabled>
                            <option value=""></option>
                            <option value="Tamilnadu">Tamilnadu</option>
                            <option value="TN">TN</option>
                        </select>
                    </div>
    
                    <div>
                        <label for="zip_code" class="three_input">Zip Code</label>
                        <br>
                        <input id="zip_code" type="text" inputmode="numeric" pattern="[0-9]{6,6}" disabled>
                    </div>
                </div>
    
                <div class="btn_flex">
                    <button id="edit" onclick="editItem()" type="button">Edit Profile</button>
                    <button id="update" onclick="updateProfile()" type="button">Update Profile</button>
                    <button onclick="deleteItem()" type="button">Delete Profile</button>
    
                </div>
    
            </form>


        </div>

    </header>

    <header id="orders_page">

        <div class="profile">

            <div>
                <img src="../../assets/image/services/buildings.jpg" alt="User Profile">
                <h3 id="user_nanm"></h3>
            
            </div>

            <br>

            <ul>
                <li id="btn_profile">Profile</li>
                <li id="btn_order" class="active">Orders</li>
                <li id="btn_wishlist">Wishlist</li>
                <li>Payment</li>
            </ul>

        </div>

        <div class="details order_details">

            <div class="pages_align">
                <a href="../home/home.html">
                    <h4>Home</h4>
                </a>
                    <i class="fa-solid fa-chevron-right"></i>
                <h4>Profile</h4>
            </div>

            <h1>Orders</h1>
            <h4>8 Items</h4>

            <div class="order_list">

                <div>

                    <div class="order_numer">
                        <h1>Order 629173</h1>
                    </div>

                    <div class="order_date">
                        <p class="order_color"></p>
                        <p>Shipped on 01 Apr, 2023</p>
                    </div>

                    <div class="order_product">

                        <img class="product_img" src="../../assets/image/stores/items/nike1.jpg" alt="">

                    </div>

                </div>

                <div>

                    <div class="order_numer">
                        <h1>Order 522429</h1>
                    </div>

                    <div class="order_date">
                        <p class="order_color"></p>
                        <p>Shipped on 01 Apr, 2023</p>
                    </div>

                    <div class="order_product">

                        <img class="product_img" src="../../assets/image/stores/ivenus/mobile (1).jpg" alt="">

                    </div>

                </div>

                <div>

                    <div class="order_numer">
                        <h1>Order 526782</h1>
                    </div>

                    <div class="order_date">
                        <p class="order_color"></p>
                        <p>Shipped on 01 Apr, 2023</p>
                    </div>

                    <div class="order_product">

                        <img class="product_img" src="../../assets/image/stores/jack-zone/dress10.jpg" alt="">

                    </div>

                </div>

                <div>

                    <div class="order_numer">
                        <h1>Order 556729</h1>
                    </div>

                    <div class="order_date">
                        <p class="order_color"></p>
                        <p>Shipped on 01 Apr, 2023</p>
                    </div>

                    <div class="order_product">

                        <img class="product_img" src="../../assets/image/stores/jack-zone/dress12.jpg" alt="">

                    </div>

                </div>


            </div>



        </div>
    
    </header>

    <header id="wishlist_page">

        <div class="profile">

            <div>
                <img src="../../assets/image/services/buildings.jpg" alt="User Profile">
                <h3 id="user_nanm"></h3>
            
            </div>

            <br>

            <ul>
                <li id="btn_profile">Profile</li>
                <li id="btn_order">Orders</li>
                <li id="btn_wishlist" class="active">Wishlist</li>
                <li>Payment</li>
            </ul>

        </div>

        <div class="details wishlist_details">

            <div class="pages_align">
                <a href="../home/home.html">
                    <h4>Home</h4>
                </a>
                    <i class="fa-solid fa-chevron-right"></i>
                <h4>Profile</h4>
            </div>
            
            <h1>Wishlist</h1>

            <div class="limit">
                <p>Showing 1-4 of 24 results</p>
                <div>
                    <i class="fa-solid fa-caret-left"></i>
                    <i class="fa-solid fa-caret-right"></i>
                </div>
            </div>

            <div class="items">

                <div>
                    
                    <img src="../../assets/image/stores/items/nike1.jpg" alt="">
                    <h3>this product is one of the most expensive product in the world</h3>
                    <h4>$12112</h4>
                    <button>Add to Cart</button>
                    <i class="fa-solid fa-xmark"></i>

                </div>

                <div>
                    
                    <img src="../../assets/image/stores/ivenus-apple/mac (1).png" alt="">
                    <h3>this product is one of the most expensive product in the world</h3>
                    <h4>$12112</h4>
                    <button>Add to Cart</button>
                    <i class="fa-solid fa-xmark"></i>

                </div>

                <div>
                    
                    <img src="../../assets/image/stores/Charles-Keith/bag2.jpeg" alt="">
                    <h3>this product is one of the most expensive product in the world</h3>
                    <h4>$12112</h4>
                    <button>Add to Cart</button>
                    <i class="fa-solid fa-xmark"></i>

                </div>

                <div>
                    
                    <img src="../../assets/image/stores/label-designer-wear/shopping (2).webp" alt="">
                    <h3>this product is one of the most expensive product in the world</h3>
                    <h4>$12112</h4>
                    <button>Add to Cart</button>
                    <i class="fa-solid fa-xmark"></i>

                </div>

               


            </div>


            
        </div>

    </header>
    

    <!-- <header id="wishlist_page">

        <div class="profile">

            <div>
                <img src="../../assets/image/services/buildings.jpg" alt="User Profile">
                <h3 id="user_nanm"></h3>
            
            </div>

            <br>

            <ul>
                <li id="btn_profile">Profile</li>
                <li id="btn_order">Orders</li>
                <li id="btn_wishlist">Wishlist</li>
                <li class="active">Payment</li>
            </ul>

        </div>

        <div class="details">

            

        </div>
    
    </header> -->







    <script>


        // document.getElementById("profile_page").style.display = "flex";
        // document.getElementById("orders_page").style.display = "none";
        // document.getElementById("wishlist_page").style.display = "none";

        let active_user = JSON.parse(localStorage.getItem('active_user'));
        let users = JSON.parse(localStorage.getItem('arr'));

        document.getElementById("first_name").value = active_user["first_name"];
        document.getElementById("last_name").value = active_user["last_name"];
        document.getElementById("email").value = active_user["user_email"];
        document.getElementById("address").value = active_user["address"];
        document.getElementById("address2").value = active_user["address2"];
        document.getElementById("zip_code").value = active_user["zip_code"];

        document.getElementById("state").value = active_user["state"];
        document.getElementById("country").value = active_user["country"];

        document.getElementById("user_nanm").innerText = active_user["first_name"] + " " + active_user["last_name"];





        let state = document.getElementById("state");
        let selectedValue;

        let country = document.getElementById("country")
        let countryValue;

        state.addEventListener("change", (event) => {
            selectedValue = event.target.value;
            console.log(selectedValue);
        });

        country.addEventListener("change", (event) => {
            countryValue = event.target.value;
            console.log(countryValue);
        });







        function updateProfile() {

            let active_user = JSON.parse(localStorage.getItem('active_user'));

            let users = JSON.parse(localStorage.getItem('arr'));

            users.forEach(e => {




                if (active_user["user_email"] === e["user_email"]) {

                    active_user["first_name"] = document.getElementById("first_name").value
                    active_user["last_name"] = document.getElementById("last_name").value
                    active_user["user_email"] = document.getElementById("email").value
                    active_user["address"] = document.getElementById("address").value
                    active_user["address2"] = document.getElementById("address2").value
                    active_user["zip_code"] = document.getElementById("zip_code").value

                    active_user["state"] = selectedValue;
                    active_user["country"] = countryValue;




                    document.getElementById("first_name").value = active_user["first_name"];
                    document.getElementById("last_name").value = active_user["last_name"];
                    document.getElementById("email").value = active_user["user_email"];
                    document.getElementById("address").value = active_user["address"];
                    document.getElementById("address2").value = active_user["address2"];
                    document.getElementById("zip_code").value = active_user["zip_code"];
                    document.getElementById("state").value = active_user["state"]
                    document.getElementById("country").value = active_user["country"]

                    selectedValue = active_user["state"];
                    countryValue = active_user["country"];



                    localStorage.setItem("active_user", JSON.stringify(active_user))


                    e["first_name"] = active_user["first_name"]
                    e["last_name"] = active_user["last_name"]
                    e["user_email"] = active_user["user_email"]
                    e["address"] = active_user["address"]
                    e["address2"] = active_user["address2"]
                    e["zip_code"] = active_user["zip_code"]
                    e["state"] = active_user["state"]
                    e["country"] = active_user["country"]

                    localStorage.setItem("arr", JSON.stringify(users))

                    location.reload();

                    document.getElementById("first_name").disabled = true
                    document.getElementById("last_name").disabled = true
                    document.getElementById("address").disabled = true
                    document.getElementById("address2").disabled = true
                    document.getElementById("zip_code").disabled = true
                    document.getElementById("country").disabled = true
                    document.getElementById("state").disabled = true


                }
            })

        }

        function deleteItem() {

            let users = JSON.parse(localStorage.getItem("arr"));


            for (let i = 0; i < users.length; i++) {
                if (document.getElementById("email").value === users[i]["user_email"]) {
                    users.splice(i, 1)
                    confirm("Your account have been deleted")
                    localStorage.setItem("arr", JSON.stringify(users));

                    window.location.href = "../../pages/login/login.html";
                }
            }
        }

        function editItem() {

            document.getElementById("first_name").disabled = false
            document.getElementById("last_name").disabled = false
            document.getElementById("address").disabled = false
            document.getElementById("address2").disabled = false
            document.getElementById("zip_code").disabled = false
            document.getElementById("state").disabled = false
            document.getElementById("country").disabled = false

        }


        let btn_profile = document.getElementById("btn_profile")
        btn_profile.addEventListener("click", el =>{
            document.getElementsByClassName("profile_details")[0].style.display = "block";
            document.getElementsByClassName("wishlist_details")[0].style.display = "none"
            document.getElementsByClassName("order_details")[0].style.display = "none";
            console.log("profile")
        })

        let btn_order = document.getElementById("btn_order")
        btn_order.addEventListener("click", el => {
            document.getElementsByClassName("order_details")[0].style.display = "block";
            document.getElementsByClassName("profile_details")[0].style.display = "none";
            document.getElementsByClassName("wishlist_details")[0].style.display = "none"
            console.log("orders") 
        })

        let btn_wishlist = document.getElementById("btn_wishlist");
        btn_wishlist.addEventListener("click", el=>{
            document.getElementsByClassName("wishlist_details")[0].style.display = "block"
            document.getElementsByClassName("profile_details")[0].style.display = "none";
            document.getElementsByClassName("order_details")[0].style.display = "none";
            console.log("wishlist")
        })






    </script>



</body>

</html>