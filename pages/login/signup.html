<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../assets/css/login/signup.css">
    <link href="https://fonts.googleapis.com/css2?family=Barlow&family=Barlow+Condensed:wght@400;700&display=swap"
        rel="stylesheet">
    <title>SpartansMT</title>
    <link rel="icon" type="image/png" sizes="32x32" href="../../assets/image/home/logo icon.png" alt="logo icon">
</head>

<body>

    <p id="signin">Already have an account? <a href="../../pages/login/login.html">Sign in here!</a></p>


    <header>


        <div class="container">

            <div>
                <img id="sign-img" src="../../assets/image/signup/signup-img.png" alt="signup img">
            </div>
            <div>
                <form>
                <h1>Create An Account</h1>
                <div class="box-column">
                    <label>First Name<br><input type="text" id="firstname" name="first-name" class="input" pattern="[A-Za-Z]{1-16}" required="true"></label>
                    <label>Last Name<br><input type="text" id="lastname" name="Last-name" class="input" pattern="[A-Za-Z]{1-16}" required="true"></label>
                </div>

                <div class="box-column">
                    <label>Email<br><input type="email" id="email" required="true" name="email" class="input"></label>
                    <label>Address<br><input type="text" id="address" required="true" name="address" class="input"></label>
                </div>

                <div class="box-column">
                    <label>Create Password<br><input id="creatpassword" type="password" name="create password" pattern="[A-Za-z0-9]{8-16}"  class="input" required="true"></label>
                    <label>Confirm Password<br><input id="confirmpassword" type="password" required="true" name="confirm password" pattern="[A-Za-Z0-9]{8-16}" class="input"></label>
                </div>
                <label><input type="checkbox" name="checkbox" id="checkbox">Creating your account and you accepting<b>Terms & Conditions.</b></label>
                <br>
                <button type="button" onclick="signup()" class="create-ac-btn"><b>Create Account</b></button>

                <div class="box-column">
                    <div class="icons-alignment">
                        <img class="icon" src="../../assets/image/home/facebook.png" alt="facebook icon">
                        <p><b>Sign up Using Facebook!</b></p>
                    </div>
                    <div class="icons-alignment">
                        <img class="icon" src="../../assets/image/home/twitter-sign.png" alt="icon">
                        <p><b>Sign up Using Twitter!</b></p>
                    </div>
                </div>
            </form>

            </div>

        </div>

    </header>


    <script>



        // const firstname=document.getElementById("firstname").value
        // const lastname=document.getElementById("lastname").value
        // const email=document.getElementById("email").value
        // const address=document.getElementById("address").value
        // const creatpassword=document.getElementById("creatpassword").value
        // const confirmpassword=document.getElementById("confirmpassword").value

        // console.log(firstname)
        // console.log(lastname)
        // console.log(email)
        // console.log(address)
        // console.log(creatpassword)
        // console.log(confirmpassword)

        //logalStorage.setItem("key", value)

        // localStorage.setItem("first_name", firstname)
        // localStorage.setItem("last_name", lastname)
        // localStorage.setItem("user_email", email)
        // localStorage.setItem("address", address)
        // localStorage.setItem("creatpassword", creatpassword)
        // localStorage.setItem("confirm_password", confirmpassword)


        // new line

function signup(){

        const first_name = document.getElementById("firstname").value.trim();
        const last_name = document.getElementById("lastname").value.trim();
        const user_email = document.getElementById("email").value.trim();
        const address = document.getElementById("address").value.trim();
        const creatpassword = document.getElementById("creatpassword").value.trim();
        const confirm_password = document.getElementById("confirmpassword").value.trim();



        if(first_name !="" && last_name !="" && user_email !="" && address !=""&& creatpassword !="" && confirm_password !="" && creatpassword === confirm_password){
           
            let user = {};
            let arr=[];

            user["first_name"]=first_name;
            user["last_name"]=last_name;
            user["user_email"]=user_email;
            user["address"]=address;
            user["creatpassword"]=creatpassword;
            user["confirm_password"]=confirm_password;

            let User_details=JSON.parse(localStorage.getItem('arr'));

            User_details.find(element => {

                if (element["user_email"] === user_email) {

                    return check = 1 
                }

                else {
                    return check = 0
                }
            })
            if (check == 1) {
                alert("email already exists")
            }
            else {
                const user_datas =JSON.parse(localStorage.getItem('arr')) ?? [];


                user_datas.push(user);
                localStorage.setItem("arr",JSON.stringify(user_datas));
                window.location.href="login.html"
            }


        }
        else{
            alert("Field can't be empty")
        }
    }
        // function signup() {


        //     const first_name = document.getElementById("firstname").value
        //     const last_name = document.getElementById("lastname").value
        //     const user_email = document.getElementById("email").value
        //     const address = document.getElementById("address").value
        //     const creatpassword = document.getElementById("creatpassword").value
        //     const confirm_password = document.getElementById("confirmpassword").value
            

        //     if(creatpassword === confirm_password){
        //         let user_data = {
        //         "firstname": first_name,
        //         "lastname": last_name,
        //         "email": user_email,
        //         "address": address,
        //         "creatpassword": creatpassword,
        //         "confirmpassword": confirm_password,
        //     }
        //     let arr = localStorage.getItem("arr")
        //         ? JSON.parse(localStorage.getItem("arr")) :
        //         [];
        //     arr.push(user_data)
        //     localStorage.setItem("arr", JSON.stringify(arr))
        //     window.location.href = "../../pages/login/login.html"

        //     } 
        //     else{
        //         alert("password is not equal")
        //     }
        // }



        


    </script>


</body>

</html>